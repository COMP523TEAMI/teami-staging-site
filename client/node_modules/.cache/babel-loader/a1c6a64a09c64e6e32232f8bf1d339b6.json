{"ast":null,"code":"import _regeneratorRuntime from\"/Users/linqiaosen/Desktop/domo/staging-demo-i/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/linqiaosen/Desktop/domo/staging-demo-i/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/linqiaosen/Desktop/domo/staging-demo-i/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Typography,Container,Grid,Card,CardMedia,CardContent,Link,Box}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import Skeleton from\"@material-ui/lab/Skeleton\";import Axios from\"axios\";var useStyles=makeStyles(function(theme){return{appBarSpacer:theme.mixins.toolbar,icon:{marginRight:theme.spacing(2)},cardMedia:{paddingTop:\"56.25%\"// 16:9\n},cardContent:{flexGrow:1},card:{height:\"100%\",display:\"flex\",flexDirection:\"column\"},cardGrid:{paddingTop:theme.spacing(8),paddingBottom:theme.spacing(8)}};});var LoadingCards=function LoadingCards(_ref){var loading=_ref.loading;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,align:\"center\"},loading),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},Array.from(new Array(6)).map(function(item,index){return/*#__PURE__*/React.createElement(Grid,{item:true,key:index,xs:12,sm:6,md:4},/*#__PURE__*/React.createElement(Box,{key:index,width:210,marginRight:0.5},/*#__PURE__*/React.createElement(Skeleton,{variant:\"rect\",width:300,height:200}),/*#__PURE__*/React.createElement(Box,{pt:0.5},/*#__PURE__*/React.createElement(Skeleton,null),/*#__PURE__*/React.createElement(Skeleton,{width:\"60%\"}))));})));};var NewsCards=function NewsCards(_ref2){var cards=_ref2.cards,classes=_ref2.classes;return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},cards.map(function(card){return/*#__PURE__*/React.createElement(Grid,{item:true,key:card.id,xs:12,sm:6,md:4},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(Link,{href:card.url,target:\"_blank\",rel:\"noopener noreferrer\"},/*#__PURE__*/React.createElement(CardMedia,{className:classes.cardMedia,image:card.image,title:card.headline})),/*#__PURE__*/React.createElement(CardContent,{className:classes.cardContent},/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h6\",component:\"h4\"},card.headline))));}));};var News=function News(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(\"Loading...\"),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var getCards=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response,newsCards;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"/api/news\";_context.next=3;return Axios.get(url);case 3:response=_context.sent;if(response.data.data.length>0&&response.data.status===\"success\"){newsCards=response.data.data.slice(0,9);setCards(newsCards);}else{setLoading(\"Sorry, we couldn't load any articles from our provider. Please try again later!\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function getCards(){return _ref3.apply(this,arguments);};}();getCards();},[]);return/*#__PURE__*/React.createElement(Container,{className:classes.cardGrid},cards.length===0?/*#__PURE__*/React.createElement(LoadingCards,{loading:loading}):/*#__PURE__*/React.createElement(NewsCards,{cards:cards,classes:classes}));};export default News;","map":{"version":3,"sources":["/Users/linqiaosen/Desktop/domo/staging-demo-i/client/src/components/News/News.jsx"],"names":["React","useState","useEffect","Typography","Container","Grid","Card","CardMedia","CardContent","Link","Box","makeStyles","Skeleton","Axios","useStyles","theme","appBarSpacer","mixins","toolbar","icon","marginRight","spacing","cardMedia","paddingTop","cardContent","flexGrow","card","height","display","flexDirection","cardGrid","paddingBottom","LoadingCards","loading","Array","from","map","item","index","NewsCards","cards","classes","id","url","image","headline","News","setCards","setLoading","getCards","get","response","data","length","status","newsCards","slice"],"mappings":"8fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OACEC,UADF,CAEEC,SAFF,CAGEC,IAHF,CAIEC,IAJF,CAKEC,SALF,CAMEC,WANF,CAOEC,IAPF,CAQEC,GARF,KASO,mBATP,CAUA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,SAACI,KAAD,QAAY,CACvCC,YAAY,CAAED,KAAK,CAACE,MAAN,CAAaC,OADY,CAEvCC,IAAI,CAAE,CACJC,WAAW,CAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CADT,CAFiC,CAKvCC,SAAS,CAAE,CACTC,UAAU,CAAE,QAAU;AADb,CAL4B,CAQvCC,WAAW,CAAE,CACXC,QAAQ,CAAE,CADC,CAR0B,CAWvCC,IAAI,CAAE,CACJC,MAAM,CAAE,MADJ,CAEJC,OAAO,CAAE,MAFL,CAGJC,aAAa,CAAE,QAHX,CAXiC,CAgBvCC,QAAQ,CAAE,CACRP,UAAU,CAAER,KAAK,CAACM,OAAN,CAAc,CAAd,CADJ,CAERU,aAAa,CAAEhB,KAAK,CAACM,OAAN,CAAc,CAAd,CAFP,CAhB6B,CAAZ,EAAD,CAA5B,CAsBA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACpC,mBACE,4CACE,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,KAAK,CAAC,QAA/B,EACGA,OADH,CADF,cAIE,8BAJF,cAKE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACGC,KAAK,CAACC,IAAN,CAAW,GAAID,CAAAA,KAAJ,CAAU,CAAV,CAAX,EAAyBE,GAAzB,CAA6B,SAACC,IAAD,CAAOC,KAAP,qBAC5B,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,GAAG,CAAEA,KAAhB,CAAuB,EAAE,CAAE,EAA3B,CAA+B,EAAE,CAAE,CAAnC,CAAsC,EAAE,CAAE,CAA1C,eACE,oBAAC,GAAD,EAAK,GAAG,CAAEA,KAAV,CAAiB,KAAK,CAAE,GAAxB,CAA6B,WAAW,CAAE,GAA1C,eACE,oBAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,KAAK,CAAE,GAAhC,CAAqC,MAAM,CAAE,GAA7C,EADF,cAGE,oBAAC,GAAD,EAAK,EAAE,CAAE,GAAT,eACE,oBAAC,QAAD,MADF,cAEE,oBAAC,QAAD,EAAU,KAAK,CAAC,KAAhB,EAFF,CAHF,CADF,CAD4B,EAA7B,CADH,CALF,CADF,CAsBD,CAvBD,CAyBA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,OAAwB,IAArBC,CAAAA,KAAqB,OAArBA,KAAqB,CAAdC,OAAc,OAAdA,OAAc,CACxC,mBACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACGD,KAAK,CAACJ,GAAN,CAAU,SAACV,IAAD,qBACT,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,GAAG,CAAEA,IAAI,CAACgB,EAArB,CAAyB,EAAE,CAAE,EAA7B,CAAiC,EAAE,CAAE,CAArC,CAAwC,EAAE,CAAE,CAA5C,eACE,oBAAC,IAAD,EAAM,SAAS,CAAED,OAAO,CAACf,IAAzB,eACE,oBAAC,IAAD,EAAM,IAAI,CAAEA,IAAI,CAACiB,GAAjB,CAAsB,MAAM,CAAC,QAA7B,CAAsC,GAAG,CAAC,qBAA1C,eACE,oBAAC,SAAD,EACE,SAAS,CAAEF,OAAO,CAACnB,SADrB,CAEE,KAAK,CAAEI,IAAI,CAACkB,KAFd,CAGE,KAAK,CAAElB,IAAI,CAACmB,QAHd,EADF,CADF,cAQE,oBAAC,WAAD,EAAa,SAAS,CAAEJ,OAAO,CAACjB,WAAhC,eACE,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,IAAhD,EACGE,IAAI,CAACmB,QADR,CADF,CARF,CADF,CADS,EAAV,CADH,CADF,CAsBD,CAvBD,CAyBA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAML,CAAAA,OAAO,CAAG3B,SAAS,EAAzB,CADiB,cAESb,QAAQ,CAAC,EAAD,CAFjB,wCAEVuC,KAFU,eAEHO,QAFG,8BAGa9C,QAAQ,CAAC,YAAD,CAHrB,yCAGVgC,OAHU,eAGDe,UAHC,eAKjB9C,SAAS,CAAC,UAAM,CACd,GAAM+C,CAAAA,QAAQ,2FAAG,8JACTN,GADS,CACH,WADG,uBAEQ9B,CAAAA,KAAK,CAACqC,GAAN,CAAUP,GAAV,CAFR,QAETQ,QAFS,eAGf,GAAIA,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,MAAnB,CAA4B,CAA5B,EAAiCF,QAAQ,CAACC,IAAT,CAAcE,MAAd,GAAyB,SAA9D,CAAyE,CACjEC,SADiE,CACrDJ,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBI,KAAnB,CAAyB,CAAzB,CAA4B,CAA5B,CADqD,CAEvET,QAAQ,CAACQ,SAAD,CAAR,CACD,CAHD,IAGO,CACLP,UAAU,CACR,iFADQ,CAAV,CAGD,CAVc,sDAAH,kBAARC,CAAAA,QAAQ,2CAAd,CAaAA,QAAQ,GACT,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAER,OAAO,CAACX,QAA9B,EACGU,KAAK,CAACa,MAAN,GAAiB,CAAjB,cACC,oBAAC,YAAD,EAAc,OAAO,CAAEpB,OAAvB,EADD,cAGC,oBAAC,SAAD,EAAW,KAAK,CAAEO,KAAlB,CAAyB,OAAO,CAAEC,OAAlC,EAJJ,CADF,CASD,CA/BD,CAiCA,cAAeK,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Typography,\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  Link,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n}));\r\n\r\nconst LoadingCards = ({ loading }) => {\r\n  return (\r\n    <div>\r\n      <Typography gutterBottom align=\"center\">\r\n        {loading}\r\n      </Typography>\r\n      <br />\r\n      <Grid container spacing={4}>\r\n        {Array.from(new Array(6)).map((item, index) => (\r\n          <Grid item key={index} xs={12} sm={6} md={4}>\r\n            <Box key={index} width={210} marginRight={0.5}>\r\n              <Skeleton variant=\"rect\" width={300} height={200} />\r\n\r\n              <Box pt={0.5}>\r\n                <Skeleton />\r\n                <Skeleton width=\"60%\" />\r\n              </Box>\r\n            </Box>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NewsCards = ({ cards, classes }) => {\r\n  return (\r\n    <Grid container spacing={4}>\r\n      {cards.map((card) => (\r\n        <Grid item key={card.id} xs={12} sm={6} md={4}>\r\n          <Card className={classes.card}>\r\n            <Link href={card.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <CardMedia\r\n                className={classes.cardMedia}\r\n                image={card.image}\r\n                title={card.headline}\r\n              />\r\n            </Link>\r\n            <CardContent className={classes.cardContent}>\r\n              <Typography gutterBottom variant=\"h6\" component=\"h4\">\r\n                {card.headline}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst News = () => {\r\n  const classes = useStyles();\r\n  const [cards, setCards] = useState([]);\r\n  const [loading, setLoading] = useState(\"Loading...\");\r\n\r\n  useEffect(() => {\r\n    const getCards = async () => {\r\n      const url = \"/api/news\";\r\n      const response = await Axios.get(url);\r\n      if (response.data.data.length > 0 && response.data.status === \"success\") {\r\n        const newsCards = response.data.data.slice(0, 9);\r\n        setCards(newsCards);\r\n      } else {\r\n        setLoading(\r\n          \"Sorry, we couldn't load any articles from our provider. Please try again later!\"\r\n        );\r\n      }\r\n    };\r\n\r\n    getCards();\r\n  }, []);\r\n\r\n  return (\r\n    <Container className={classes.cardGrid}>\r\n      {cards.length === 0 ? (\r\n        <LoadingCards loading={loading} />\r\n      ) : (\r\n        <NewsCards cards={cards} classes={classes} />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"]},"metadata":{},"sourceType":"module"}